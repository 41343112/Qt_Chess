# 測試檢查清單

本文檔提供完整的測試檢查清單，用於驗證主選單功能的正確性。

## 🔧 構建步驟

```bash
# 1. 確保安裝了 Qt5 和 WebSockets
sudo apt-get install qtbase5-dev libqt5websockets5-dev  # Ubuntu/Debian

# 2. 構建專案
cd /path/to/Qt_Chess
qmake Qt_Chess.pro
make

# 3. 運行應用程式
./Qt_Chess
```

## ✅ 測試檢查清單

### 1. 啟動測試

#### 1.1 首次啟動
- [ ] 應用程式啟動後顯示主選單畫面
- [ ] 主選單包含標題 "♔ 國際象棋 - 科技對弈 ♚"
- [ ] 顯示四個按鈕：
  - [ ] 🎮 本地遊玩
  - [ ] 🤖 與電腦對戰
  - [ ] 🌐 線上遊玩
  - [ ] ⚙️ 設定
- [ ] 棋盤和遊戲控制面板隱藏
- [ ] 選單欄隱藏

#### 1.2 視覺檢查
- [ ] 按鈕使用霓虹青色邊框
- [ ] 背景為深藍黑色
- [ ] 標題有半透明漸變背景
- [ ] 按鈕文字清晰可讀
- [ ] 整體佈局居中且美觀

### 2. 本地遊玩測試

#### 2.1 點擊行為
- [ ] 點擊「本地遊玩」按鈕
- [ ] 主選單消失
- [ ] 遊戲畫面顯示：
  - [ ] 棋盤顯示
  - [ ] 棋譜面板顯示
  - [ ] 時間控制面板顯示
  - [ ] 選單欄顯示

#### 2.2 遊戲狀態
- [ ] 遊戲自動開始（不需要額外點擊）
- [ ] 顯示為雙人對戰模式
- [ ] 白方先行
- [ ] 可以正常移動棋子
- [ ] 棋譜記錄正常

#### 2.3 Hover 效果
- [ ] 滑鼠懸停在按鈕上時：
  - [ ] 按鈕變亮
  - [ ] 邊框顏色改變
  - [ ] 有視覺反饋

#### 2.4 Press 效果
- [ ] 點擊按鈕時：
  - [ ] 按鈕有按下效果
  - [ ] 視覺反饋明確

### 3. 與電腦對戰測試

#### 3.1 返回主選單
- [ ] 點擊選單欄「遊戲」→「返回主選單」
- [ ] 顯示確認對話框（因為遊戲進行中）
- [ ] 對話框內容正確
- [ ] 點擊「否」返回遊戲
- [ ] 點擊「是」返回主選單

#### 3.2 點擊電腦對戰
- [ ] 在主選單點擊「與電腦對戰」
- [ ] 切換到遊戲畫面
- [ ] 時間控制面板顯示電腦模式選項
- [ ] 顯示顏色選擇按鈕：
  - [ ] 執白
  - [ ] 隨機
  - [ ] 執黑
- [ ] 顯示難度滑桿

#### 3.3 遊戲設定
- [ ] 選擇「執白」
- [ ] 點擊「開始」
- [ ] 玩家執白棋
- [ ] 電腦執黑棋
- [ ] 電腦自動移動
- [ ] 顯示「電腦思考中...」訊息

### 4. 線上遊玩測試

#### 4.1 返回並點擊
- [ ] 返回主選單
- [ ] 點擊「線上遊玩」
- [ ] 顯示線上對戰對話框
- [ ] 對話框包含創建/加入房間選項

#### 4.2 連線流程
- [ ] 可以選擇創建房間
- [ ] 可以選擇加入房間
- [ ] 對話框功能正常（這是現有功能，應該不變）

### 5. 設定測試

#### 5.1 主選單設定
- [ ] 返回主選單
- [ ] 點擊「設定」按鈕
- [ ] 顯示設定選單對話框
- [ ] 對話框標題為 "⚙️ 設定"
- [ ] 對話框包含三個選項：
  - [ ] 🔊 音效設定
  - [ ] ♟ 棋子圖標設定
  - [ ] 🎨 棋盤顏色設定
- [ ] 包含「關閉」按鈕

#### 5.2 設定功能
- [ ] 點擊「音效設定」開啟音效設定對話框
- [ ] 關閉後返回設定選單對話框（這是預期行為）
- [ ] 點擊「棋子圖標設定」開啟相應對話框
- [ ] 點擊「棋盤顏色設定」開啟相應對話框
- [ ] 點擊「關閉」關閉對話框
- [ ] 關閉後仍在主選單（不切換到遊戲畫面）

### 6. 返回主選單測試

#### 6.1 未開始遊戲時
- [ ] 進入遊戲畫面但未開始遊戲
- [ ] 點擊「返回主選單」
- [ ] 直接返回，無確認對話框

#### 6.2 遊戲進行中
- [ ] 開始一局遊戲
- [ ] 移動幾步棋
- [ ] 點擊「返回主選單」
- [ ] 顯示確認對話框
- [ ] 測試「是」選項：
  - [ ] 返回主選單
  - [ ] 遊戲狀態重置
  - [ ] 計時器停止
  - [ ] 棋譜清空
- [ ] 測試「否」選項：
  - [ ] 繼續遊戲
  - [ ] 遊戲狀態不變

#### 6.3 遊戲結束後
- [ ] 完成一局遊戲（將死或認輸）
- [ ] 點擊「返回主選單」
- [ ] 直接返回，無確認對話框

### 7. 狀態重置測試

#### 7.1 遊戲狀態
從遊戲返回主選單後，再次進入遊戲：
- [ ] 棋盤重置為初始狀態
- [ ] 棋譜清空
- [ ] 計時器重置
- [ ] 被吃棋子清空
- [ ] 不是回放模式

#### 7.2 網路連接
- [ ] 開始線上遊戲
- [ ] 建立連接
- [ ] 返回主選單
- [ ] 網路連接正確斷開

### 8. 視覺和響應性測試

#### 8.1 視窗大小調整
- [ ] 調整視窗大小
- [ ] 主選單按鈕保持居中
- [ ] 遊戲畫面正常調整
- [ ] 佈局不破壞

#### 8.2 最小視窗大小
- [ ] 縮小視窗到最小尺寸
- [ ] 所有元素仍可見
- [ ] 沒有重疊或裁切

#### 8.3 全螢幕模式
- [ ] 切換到全螢幕
- [ ] 主選單正常顯示
- [ ] 遊戲畫面正常顯示
- [ ] 可以正常切換

### 9. 鍵盤導航測試（如果實現）

- [ ] 使用 Tab 鍵切換按鈕
- [ ] 使用 Enter/Space 啟動按鈕
- [ ] 使用 Esc 關閉對話框

### 10. 完整流程測試

#### 10.1 完整遊戲流程
1. [ ] 啟動應用程式（顯示主選單）
2. [ ] 點擊「本地遊玩」
3. [ ] 玩幾步棋
4. [ ] 返回主選單（確認）
5. [ ] 點擊「與電腦對戰」
6. [ ] 選擇顏色並開始
7. [ ] 玩幾步棋
8. [ ] 返回主選單（確認）
9. [ ] 點擊「設定」
10. [ ] 修改設定
11. [ ] 關閉設定對話框
12. [ ] 點擊「線上遊玩」
13. [ ] 檢查連線對話框
14. [ ] 取消並返回主選單

#### 10.2 快速切換測試
1. [ ] 在各模式間快速切換
2. [ ] 不會崩潰或出現錯誤
3. [ ] 狀態正確重置

## 🐛 已知問題檢查

### 應該不會發生的問題
- [ ] 主選單和遊戲畫面同時顯示
- [ ] 按鈕無反應
- [ ] 點擊按鈕後卡住
- [ ] 返回主選單後遊戲狀態未重置
- [ ] 記憶體洩漏（長時間使用後）
- [ ] 選單欄在主選單顯示

### 常見問題排查

**如果主選單不顯示：**
1. 檢查 setupMainMenu() 是否被調用
2. 檢查 showMainMenu() 是否被調用
3. 檢查 m_mainMenuWidget 是否為 null

**如果按鈕無反應：**
1. 檢查 signal/slot 連接是否正確
2. 檢查按鈕是否被正確創建
3. 檢查是否有錯誤日誌

**如果切換不正常：**
1. 檢查 showMainMenu() 和 showGameContent() 實現
2. 檢查 widget 的 show()/hide() 是否被調用
3. 檢查佈局是否正確

## 📝 測試報告模板

```
測試日期：____________________
測試者：____________________
Qt 版本：____________________
作業系統：____________________

| 測試項目 | 結果 | 備註 |
|---------|------|------|
| 啟動測試 | ☐ 通過 ☐ 失敗 | |
| 本地遊玩 | ☐ 通過 ☐ 失敗 | |
| 電腦對戰 | ☐ 通過 ☐ 失敗 | |
| 線上遊玩 | ☐ 通過 ☐ 失敗 | |
| 設定功能 | ☐ 通過 ☐ 失敗 | |
| 返回主選單 | ☐ 通過 ☐ 失敗 | |
| 狀態重置 | ☐ 通過 ☐ 失敗 | |
| 視覺效果 | ☐ 通過 ☐ 失敗 | |
| 響應性 | ☐ 通過 ☐ 失敗 | |
| 完整流程 | ☐ 通過 ☐ 失敗 | |

發現的問題：
1. 
2. 
3. 

總體評價：☐ 可以合併 ☐ 需要修改
```

## 🎯 通過標準

實現被認為成功需要滿足：

✅ **必須通過**
1. 主選單正確顯示
2. 四個按鈕都能正常工作
3. 模式切換正確
4. 返回主選單功能正常
5. 遊戲狀態正確重置
6. 不破壞任何現有功能

✅ **建議通過**
1. 視覺效果符合設計
2. Hover/Press 效果正常
3. 響應式佈局良好
4. 無明顯效能問題

## 📸 截圖建議

建議截圖以下畫面：
1. 主選單初始畫面
2. 按鈕 Hover 效果
3. 設定對話框
4. 確認對話框
5. 各個遊戲模式畫面

這些截圖可以添加到文檔中幫助理解功能。

---

完成所有測試後，如果沒有重大問題，可以將此分支合併到主分支。
