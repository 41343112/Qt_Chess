# 時間控制滑桿更新 (Time Control Slider Update)

## 更新概述 (Update Overview)

本次更新改進了時間控制介面，將原本的下拉選單改為水平滑桿，並將時間顯示從棋盤上移到右側控制面板中。

## 主要變更 (Key Changes)

### 1. 總時間設定 (Total Time Setting)
- **之前**: 使用下拉選單 (QComboBox) 選擇預設時間
- **現在**: 使用水平滑桿 (QSlider) 連續調整時間
  - 範圍: 0-3600秒 (0秒=不限時, 最大60分鐘)
  - 刻度間隔: 每5分鐘 (300秒)
  - 即時顯示當前設定值

### 2. 每著加秒滑桿 (Increment Slider)
- **之前**: 垂直滑桿 (Qt::Vertical)
- **現在**: 水平滑桿 (Qt::Horizontal)
- 寬度填滿可用空間

### 3. 時間顯示位置 (Time Display Position)
- **之前**: 疊加在棋盤上方 (overlay)
  - 黑方時間: 棋盤左上角
  - 白方時間: 棋盤右下角
- **現在**: 位於右側時間控制面板中
  - 黑方時間: 在控制面板中的獨立區域
  - 白方時間: 在控制面板中的獨立區域
  - 不再遮擋棋盤內容

## 新的 UI 佈局 (New UI Layout)

```
+------------------------------------------------------------------+
|  Menu: 設定 (Settings)                                            |
+------------------------------------------------------------------+
|                                                                  |
|  +----------------------------------+  +--------------------+    |
|  |                                  |  | 時間控制           |    |
|  |                                  |  |                    |    |
|  |         Chess Board              |  | 總時間:            |    |
|  |         (8x8 squares)            |  | [5分鐘]            |    |
|  |                                  |  | |----o-----------|  |    |
|  |                                  |  | 0            3600  |    |
|  |                                  |  |                    |    |
|  |                                  |  | 每著加秒:          |    |
|  |                                  |  | [5秒]              |    |
|  |                                  |  | |--o------------|  |    |
|  |                                  |  | 0             60   |    |
|  +----------------------------------+  |                    |    |
|                                        | 黑方時間:          |    |
|  +----------------------------------+  | +----------------+ |    |
|  |         新遊戲 (New Game)         |  | |    05:00       | |    |
|  +----------------------------------+  | +----------------+ |    |
|                                        |                    |    |
|                                        | 白方時間:          |    |
|                                        | +----------------+ |    |
|                                        | |    05:00       | |    |
|                                        | +----------------+ |    |
|                                        |                    |    |
|                                        | [開始]             |    |
+----------------------------------------+--------------------+----+
```

## 技術實現細節 (Technical Implementation Details)

### 更新的變數
- `QSlider* m_timeLimitSlider` (新增) - 總時間滑桿
- `QLabel* m_timeLimitLabel` (新增) - 總時間顯示標籤
- `QComboBox* m_timeLimitCombo` (移除) - 原時間限制下拉選單

### 更新的方法
- `onTimeLimitChanged(int value)` - 參數從 index 改為 value
- `positionTimeDisplaysOnBoard()` (移除) - 不再需要定位時間顯示

### 滑桿數值對應
總時間滑桿使用秒數作為單位：
- 0秒 = 不限時
- 30秒 = 30
- 1分鐘 = 60
- 3分鐘 = 180
- 5分鐘 = 300
- 10分鐘 = 600
- 15分鐘 = 900
- 30分鐘 = 1800
- 60分鐘 = 3600

### 時間顯示格式化
滑桿標籤會根據數值自動格式化：
- < 60秒: "X秒"
- ≥ 60秒且能整除60: "X分鐘"
- 其他: "X分Y秒"

## 使用者體驗改善 (User Experience Improvements)

1. **更直觀的時間設定**: 水平滑桿提供連續的時間調整，不限於預設選項
2. **更清晰的棋盤視野**: 時間顯示移到側邊，不會遮擋棋盤內容
3. **一致的介面設計**: 所有滑桿都是水平方向，填滿可用寬度
4. **即時回饋**: 滑動時立即顯示對應的時間值

## 設定持久化 (Settings Persistence)

時間控制設定會自動儲存到 `Qt_Chess/TimeControl` 設定組中：
- `timeLimitSeconds` - 總時間限制（秒），0表示不限時
- `incrementSeconds` - 每著增量（秒）

重新啟動應用程式時，會自動載入上次的設定。
