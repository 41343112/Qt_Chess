# 遊戲模式選擇功能使用指南

## 功能概述

在線上對戰模式中，房主現在可以在創建房間時選擇多種遊戲模式。這些模式將在房間資訊中顯示，並在對手加入時通知雙方。

## 如何使用

### 步驟 1：創建房間並選擇遊戲模式

1. 啟動 Qt_Chess 應用程式
2. 在主選單選擇「線上遊玩」
3. 點擊「創建房間」按鈕
4. 在彈出的對話框中，您會看到五種遊戲模式選項：

```
🎯 選擇遊戲模式（可複選）
┌──────────────────────────────────────┐
│ ☑ ⚔️ 標準模式 - 經典國際象棋規則         │
│ ☐ ⚡ 快棋模式 - 限時10分鐘              │
│ ☐ 💨 閃電戰 - 限時3分鐘                │
│ ☐ 🎲 讓子模式 - 可移除部分棋子          │
│ ☐ 🔧 自訂規則 - 特殊變體玩法           │
└──────────────────────────────────────┘
```

5. 勾選您想要的遊戲模式（可以選擇多個）
6. 點擊「開始」按鈕

### 步驟 2：查看房間資訊

創建房間後，會顯示房間資訊對話框：

```
🎉 房間已創建！

✅ 房間創建成功！

房號：1234

🎯 已選擇的遊戲模式
✓ 標準模式
✓ 快棋模式

[📋 複製房號]
```

### 步驟 3：分享房號

1. 點擊「複製房號」按鈕
2. 使用通訊軟體（如 LINE、WeChat、Discord）將房號傳給朋友

### 步驟 4：等待對手加入

當對手成功加入房間時，您會收到通知：

```
🎮 對手已加入

✅ 對手已加入房間！

已選擇的遊戲模式：
• 標準模式
• 快棋模式

請按「開始」鍵開始遊戲
```

### 步驟 5：開始遊戲

點擊「開始」按鈕開始對局。

## 五種遊戲模式說明

### 1. ⚔️ 標準模式
- **描述**：經典國際象棋規則
- **特點**：遵循 FIDE 官方規則
- **適合**：所有玩家
- **默認**：此模式默認勾選

### 2. ⚡ 快棋模式
- **描述**：限時10分鐘
- **特點**：每位玩家有 10 分鐘思考時間
- **適合**：想要快節奏對局的玩家
- **時間**：10:00 vs 10:00

### 3. 💨 閃電戰
- **描述**：限時3分鐘
- **特點**：每位玩家有 3 分鐘思考時間
- **適合**：高手對決或快速練習
- **時間**：3:00 vs 3:00

### 4. 🎲 讓子模式
- **描述**：可移除部分棋子
- **特點**：用於不同水平玩家之間的公平對局
- **適合**：教學或水平差距較大的對局
- **規則**：可在遊戲開始前協商移除哪些棋子

### 5. 🔧 自訂規則
- **描述**：特殊變體玩法
- **特點**：支援各種象棋變體規則
- **適合**：想嘗試新玩法的玩家
- **變體**：可能包括 Chess960、三次重複和棋、50步規則等

## 注意事項

1. **多選**：您可以同時選擇多種模式
2. **房主決定**：只有房主（創建房間的玩家）可以選擇遊戲模式
3. **顯示位置**：選擇的模式會顯示在房間號碼下方
4. **通知**：當對手加入時，雙方都能看到選擇的模式

## 常見問題

**Q: 我可以同時選擇標準模式和快棋模式嗎？**
A: 可以。您可以選擇任意組合的模式。

**Q: 如果我不選擇任何模式會怎樣？**
A: 對話框會顯示「未選擇特殊模式」，遊戲將以基本規則進行。

**Q: 房客（加入者）可以選擇遊戲模式嗎？**
A: 不可以。只有房主在創建房間時可以選擇模式。

**Q: 選擇的模式會實際影響遊戲規則嗎？**
A: 目前這些模式主要用於標記和溝通。實際規則的實現將在未來版本中添加。

**Q: 我可以在遊戲開始後更改模式嗎？**
A: 不可以。模式必須在創建房間時選擇，遊戲開始後無法更改。

## 技術細節

- 遊戲模式資訊存儲在 `QMap<QString, bool>` 中
- 模式選擇通過 `OnlineDialog` 類處理
- 選擇的模式在房間資訊對話框和對手加入通知中顯示

## 未來改進

- 實際應用選擇的遊戲規則
- 將模式資訊傳送給房客
- 添加更多遊戲模式選項
- 允許自訂時間設定
- 記住玩家的模式偏好設定

## 相關文件

- [功能詳細說明](GAME_MODES_FEATURE.md)
- [測試計劃](GAME_MODES_TEST_PLAN.md)
- [線上模式功能](ONLINE_MODE_FEATURE.md)
