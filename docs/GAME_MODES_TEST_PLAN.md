# 遊戲模式功能測試計劃 (Game Mode Feature Test Plan)

## 測試環境要求

- Qt 5.x 或更高版本
- 已安裝 Qt WebSockets 模組
- C++17 編譯器

## 編譯測試

1. 清理並重新編譯專案：
```bash
cd /home/runner/work/Qt_Chess/Qt_Chess
qmake Qt_Chess.pro
make clean
make
```

2. 檢查編譯輸出，確認沒有錯誤或警告

## 功能測試

### 測試案例 1: 創建房間對話框顯示

**步驟：**
1. 啟動應用程式
2. 選擇「線上遊玩」
3. 點擊「創建房間」按鈕

**預期結果：**
- 應顯示 OnlineDialog 對話框
- 對話框標題為「線上對戰 - 簡易連線」
- 「創建房間」選項應預選
- 遊戲模式區域應可見且啟用
- 應顯示五個遊戲模式選項：
  - ⚔️ 標準模式 - 經典國際象棋規則（默認勾選）
  - ⚡ 快棋模式 - 限時10分鐘
  - 💨 閃電戰 - 限時3分鐘
  - 🎲 讓子模式 - 可移除部分棋子
  - 🔧 自訂規則 - 特殊變體玩法

### 測試案例 2: 遊戲模式選擇

**步驟：**
1. 在創建房間對話框中
2. 勾選「快棋模式」
3. 勾選「閃電戰」
4. 取消勾選「標準模式」
5. 點擊「開始」

**預期結果：**
- 所有選項應可正常勾選/取消勾選
- 對話框應正常關閉

### 測試案例 3: 房間資訊顯示

**步驟：**
1. 完成測試案例 2
2. 觀察房間創建成功對話框

**預期結果：**
- 應顯示房間號碼（4位數字）
- 應顯示「🎯 已選擇的遊戲模式」區域
- 應列出所有勾選的模式：
  - ✓ 快棋模式
  - ✓ 閃電戰
- 不應顯示未勾選的模式

### 測試案例 4: 沒有選擇特殊模式

**步驟：**
1. 在創建房間對話框中
2. 取消勾選所有模式（包括默認的標準模式）
3. 點擊「開始」
4. 觀察房間創建成功對話框

**預期結果：**
- 應顯示「未選擇特殊模式」訊息

### 測試案例 5: 對手加入通知

**設置：**
需要兩個運行中的應用程式實例

**步驟：**
1. 實例 A：創建房間並選擇遊戲模式（例如：標準模式、快棋模式）
2. 實例 A：複製房間號碼
3. 實例 B：點擊「加入房間」
4. 實例 B：輸入房間號碼並加入
5. 觀察實例 A 的通知對話框

**預期結果：**
- 實例 A 應收到「🎮 對手已加入」通知
- 通知應顯示「✅ 對手已加入房間！」
- 通知應列出已選擇的遊戲模式：
  - • 標準模式
  - • 快棋模式
- 通知應提示「請按『開始』鍵開始遊戲」

### 測試案例 6: 加入房間模式

**步驟：**
1. 在 OnlineDialog 中選擇「加入房間」
2. 觀察 UI 變化

**預期結果：**
- 遊戲模式區域應被禁用
- 加入房間輸入區域應啟用
- 房號輸入欄位應可編輯

### 測試案例 7: 切換模式

**步驟：**
1. 在 OnlineDialog 中選擇「創建房間」
2. 觀察遊戲模式區域（應啟用）
3. 切換到「加入房間」
4. 觀察遊戲模式區域（應禁用）
5. 再切換回「創建房間」
6. 觀察遊戲模式區域（應再次啟用）

**預期結果：**
- 遊戲模式區域應根據選擇的模式正確啟用/禁用
- 之前勾選的遊戲模式應保持不變

## UI/UX 測試

### 視覺測試

1. **字型和大小**
   - 確認所有文字清晰可讀
   - 表情符號正常顯示

2. **顏色和樣式**
   - 勾選的模式顯示綠色勾號（✓）
   - 遊戲模式標題為藍色（#2196F3）

3. **布局**
   - 遊戲模式區域在創建/加入房間選擇下方
   - 元件間距適當
   - 對話框大小適中（500x500）

### 互動測試

1. **按鈕響應**
   - 所有按鈕應有 hover 效果
   - 點擊應有即時反應

2. **複選框**
   - 複選框應可多選
   - 視覺狀態應清晰

## 錯誤處理測試

### 測試案例 8: 取消創建房間

**步驟：**
1. 點擊「創建房間」
2. 選擇一些遊戲模式
3. 點擊「取消」

**預期結果：**
- 對話框關閉
- 不應創建房間
- 應返回初始狀態

## 性能測試

1. **對話框載入時間**
   - OnlineDialog 應在 <100ms 內顯示

2. **模式選擇響應**
   - 複選框勾選/取消應即時響應

## 相容性測試

測試以下平台：
- [ ] Linux (Ubuntu/Debian)
- [ ] macOS
- [ ] Windows 10/11

## 迴歸測試

確認現有功能不受影響：
- [ ] 本地遊戲模式正常
- [ ] 電腦對戰模式正常
- [ ] 原有的加入房間功能正常
- [ ] 其他設定功能正常

## 測試結果記錄

測試日期：___________
測試人員：___________

| 測試案例 | 狀態 | 備註 |
|---------|------|------|
| 案例 1  | ⬜   |      |
| 案例 2  | ⬜   |      |
| 案例 3  | ⬜   |      |
| 案例 4  | ⬜   |      |
| 案例 5  | ⬜   |      |
| 案例 6  | ⬜   |      |
| 案例 7  | ⬜   |      |
| 案例 8  | ⬜   |      |

狀態說明：
- ✅ 通過
- ❌ 失敗
- ⚠️ 部分通過
- ⬜ 未測試

## 已知問題

（記錄測試中發現的任何問題）

## 建議改進

（記錄測試後的改進建議）
