# 吃子分數功能測試場景 (Scoring Feature Test Scenarios)

## 測試目的 (Test Purpose)

驗證吃子分數系統在各種遊戲情況下都能正確運作。

Verify that the captured piece scoring system works correctly in various game scenarios.

## 基本測試場景 (Basic Test Scenarios)

### 測試 1：初始狀態
**Test 1: Initial State**

**步驟 (Steps):**
1. 啟動遊戲
2. 檢查分數顯示

**預期結果 (Expected Result):**
- 白方分數: 0
- 黑方分數: 0

---

### 測試 2：白方吃兵
**Test 2: White Captures Pawn**

**步驟 (Steps):**
1. e2-e4
2. d7-d5
3. exd5 (白方兵吃掉黑方兵)

**預期結果 (Expected Result):**
- 白方分數: 1
- 黑方分數: 0

---

### 測試 3：黑方吃騎士
**Test 3: Black Captures Knight**

**步驟 (Steps):**
1. Nf3
2. e5
3. Nxe5 (白方騎士到 e5)
4. d6
5. Nf3
6. Bg4
7. h3
8. Bxf3 (黑方主教吃掉白方騎士)

**預期結果 (Expected Result):**
- 白方分數: 0
- 黑方分數: 3

---

## 特殊情況測試 (Special Cases Tests)

### 測試 4：吃過路兵
**Test 4: En Passant Capture**

**步驟 (Steps):**
1. e2-e4
2. a7-a6
3. e4-e5
4. d7-d5
5. exd6 (en passant，白方兵吃掉黑方兵)

**預期結果 (Expected Result):**
- 白方分數: 1
- 黑方分數: 0
- 注意：d5 位置的黑方兵被移除

---

### 測試 5：兵升變
**Test 5: Pawn Promotion**

**步驟 (Steps):**
1. 使用測試棋局讓白方兵到達第 8 行
2. 升變為皇后
3. 檢查分數（升變本身不應影響分數）
4. 黑方吃掉升變後的皇后
5. 檢查分數

**預期結果 (Expected Result):**
- 升變前：分數不變
- 升變後：分數不變
- 被吃後：黑方分數 +9（按皇后計分）

---

### 測試 6：王車易位
**Test 6: Castling**

**步驟 (Steps):**
1. 執行王車易位
2. 檢查分數

**預期結果 (Expected Result):**
- 王車易位不影響分數
- 雙方分數保持不變

---

## 多次吃子測試 (Multiple Captures Tests)

### 測試 7：連續吃子
**Test 7: Sequential Captures**

**步驟 (Steps):**
1. 白方吃掉黑方兵 (白方 +1)
2. 黑方吃掉白方騎士 (黑方 +3)
3. 白方吃掉黑方主教 (白方 +3)
4. 黑方吃掉白方城堡 (黑方 +5)

**預期結果 (Expected Result):**
- 白方分數: 4 (1 + 3)
- 黑方分數: 8 (3 + 5)

---

### 測試 8：吃掉皇后
**Test 8: Queen Capture**

**步驟 (Steps):**
1. 設置棋局讓白方可以吃掉黑方皇后
2. 執行吃子

**預期結果 (Expected Result):**
- 白方分數增加 9 分

---

## 遊戲流程測試 (Game Flow Tests)

### 測試 9：新遊戲重置
**Test 9: New Game Reset**

**步驟 (Steps):**
1. 進行多次吃子，累積分數
2. 點擊「新遊戲」按鈕
3. 檢查分數顯示

**預期結果 (Expected Result):**
- 新遊戲開始後，雙方分數都重置為 0

---

### 測試 10：回放模式
**Test 10: Replay Mode**

**步驟 (Steps):**
1. 進行幾步棋，包含吃子
2. 進入回放模式
3. 回放到吃子之前的步驟
4. 檢查分數顯示
5. 回放到吃子之後的步驟
6. 檢查分數顯示
7. 退出回放模式

**預期結果 (Expected Result):**
- 回放模式中分數應該保持為當前遊戲的最終分數（不隨回放改變）
- 退出回放後分數正確顯示

**注意**: 根據當前實現，回放模式中分數顯示不會隨著回放而改變，
而是始終顯示當前遊戲狀態的分數。如果未來需要實現回放時同步更新分數，
這是一個可能的改進點。

---

## 極端情況測試 (Edge Cases Tests)

### 測試 11：大量吃子
**Test 11: Many Captures**

**步驟 (Steps):**
1. 進行多局遊戲，累積高分數
2. 吃掉對方所有棋子（除國王外）

**預期理論最大值 (Expected Maximum Values):**
- 最大可能分數: 1×8 (兵) + 3×2 (騎士) + 3×2 (主教) + 5×2 (城堡) + 9 (皇后) = 8+6+6+10+9 = 39 分
- UI 應該能正確顯示雙位數分數

---

### 測試 12：放棄遊戲
**Test 12: Resign Game**

**步驟 (Steps):**
1. 進行遊戲並累積分數
2. 點擊「放棄」按鈕
3. 檢查分數顯示

**預期結果 (Expected Result):**
- 放棄時分數保持不變
- 開始新遊戲後分數重置

---

## 視覺測試 (Visual Tests)

### 測試 13：UI 顯示
**Test 13: UI Display**

**檢查項目 (Checklist):**
- [ ] 分數標籤是否在正確位置（右側面板上方）
- [ ] 文字是否居中對齊
- [ ] 字體大小是否適當（12pt，粗體）
- [ ] 背景顏色是否為淺灰色
- [ ] 圓角樣式是否正確顯示
- [ ] 更新時是否有閃爍或延遲

---

### 測試 14：視窗調整大小
**Test 14: Window Resize**

**步驟 (Steps):**
1. 調整遊戲視窗大小為最小
2. 檢查分數顯示是否正常
3. 調整視窗大小為最大
4. 再次檢查分數顯示

**預期結果 (Expected Result):**
- 分數標籤在任何視窗大小下都能正確顯示
- 文字不會被截斷

---

## 測試檢查表總結 (Test Checklist Summary)

### 功能測試 (Functional Tests)
- [ ] 測試 1: 初始狀態
- [ ] 測試 2: 白方吃兵
- [ ] 測試 3: 黑方吃騎士
- [ ] 測試 4: 吃過路兵
- [ ] 測試 5: 兵升變
- [ ] 測試 6: 王車易位
- [ ] 測試 7: 連續吃子
- [ ] 測試 8: 吃掉皇后

### 遊戲流程測試 (Game Flow Tests)
- [ ] 測試 9: 新遊戲重置
- [ ] 測試 10: 回放模式
- [ ] 測試 11: 大量吃子
- [ ] 測試 12: 放棄遊戲

### 視覺測試 (Visual Tests)
- [ ] 測試 13: UI 顯示
- [ ] 測試 14: 視窗調整大小

---

## 已知限制 (Known Limitations)

1. **回放模式**: 回放時分數不會隨著棋步變化，而是始終顯示當前遊戲的最終分數
2. **將死/僵局**: 遊戲結束時分數保持不變（這是預期行為）

---

## 測試結果記錄模板 (Test Results Template)

```
測試日期 (Test Date): ____________
測試人員 (Tester): ____________
版本 (Version): ____________

| 測試編號 | 測試名稱 | 狀態 | 備註 |
|----------|----------|------|------|
| Test 1   | 初始狀態 | ✓/✗  |      |
| Test 2   | 白方吃兵 | ✓/✗  |      |
| ...      | ...      | ...  | ...  |

總結 (Summary):
- 通過測試數 (Passed): __/__
- 失敗測試數 (Failed): __/__
- 備註 (Notes): ____________
```
